.\" shlib - A shell library of reusable functions
.TH SHLIB_UI 3 "February 2026" "shlib 0.3.6" "Shell Library"
.SH NAME
shlib_ui \- User interface functions from the shlib library
.SH SYNOPSIS
.B source
.I /path/to/shlib.sh
.SH DESCRIPTION
.B shlib_ui
provides user interface functions for terminal interactions such as
spinners and progress indicators.
Requires Bash version 3 or higher.
.SH FUNCTIONS
.SS Headers
.TP
.BI shlib::header " message"
Print
.I message
to stdout in bold (without trailing newline).
.TP
.BI shlib::headern " message"
Print
.I message
to stdout in bold (with trailing newline).
.SS Spinner
.TP
.BI shlib::spinner " message command [args...]"
Run
.I command
with optional
.I args
while displaying an animated spinner with
.IR message .
The spinner uses Unicode braille characters for smooth animation.
Returns the exit code of the executed command.
.SS Horizontal Rules
.TP
.BI shlib::hr " [label] [width] [char]"
Draw a horizontal divider line. If
.I label
is provided, it is centered in the line.
.I width
defaults to 40,
.I char
defaults to \(lq\-\(rq (box-drawing horizontal line).
.TP
.BI shlib::hrn " [label] [width] [char]"
Same as
.B shlib::hr
but with a trailing newline.
.SS Status Indicators
.TP
.BI shlib::status_ok " message"
Print a green checkmark (\[u2714]) followed by
.IR message .
.TP
.BI shlib::status_okn " message"
Same as
.B shlib::status_ok
but with a trailing newline.
.TP
.BI shlib::status_fail " message"
Print a red X (\[u2716]) followed by
.IR message .
.TP
.BI shlib::status_failn " message"
Same as
.B shlib::status_fail
but with a trailing newline.
.TP
.BI shlib::status_pending " message"
Print a yellow hourglass (\[u23f3]) followed by
.IR message .
.TP
.BI shlib::status_pendingn " message"
Same as
.B shlib::status_pending
but with a trailing newline.
.SS ANSI Color Reference
.TP
.B shlib::ansi_styles
Display ANSI text styles with codes and examples.
Shows Normal, Bold, Dim, Italic, Underline, Blink, Reverse, Hidden, and Strikethrough styles.
.TP
.B shlib::ansi_fg_colors
Display the 16 foreground ANSI color codes (30-37 for standard, 90-97 for bright colors).
.TP
.B shlib::ansi_bg_colors
Display the 16 background ANSI color codes (40-47 for standard, 100-107 for bright colors).
.TP
.B shlib::ansi_color_matrix
Display a matrix of standard foreground (30-37) and background (40-47) color combinations.
.TP
.B shlib::ansi_color_matrix_bright
Display a matrix of bright foreground (90-97) and background (100-107) color combinations.
.TP
.B shlib::ansi_256_palette
Display the 256 color palette including standard colors (0-15), 216 colors (16-231), and grayscale (232-255).
.SH EXAMPLES
Run a command with a spinner:
.PP
.RS
.nf
#!/usr/bin/env bash
source /path/to/shlib/shlib.sh

# Show spinner while sleeping
shlib::spinner "Please wait" sleep 2

# Show spinner while running a build
if shlib::spinner "Building project" make -j4; then
    shlib::einfon "Build succeeded"
else
    shlib::eerrorn "Build failed"
fi

# Capture command output (redirect before spinner)
output=$(shlib::spinner "Fetching data" curl -s https://example.com)
.fi
.RE
.PP
Display ANSI color references:
.PP
.RS
.nf
# Show text styles
shlib::ansi_styles

# Show foreground and background colors
shlib::ansi_fg_colors
shlib::ansi_bg_colors

# Show color combination matrices
shlib::ansi_color_matrix
shlib::ansi_color_matrix_bright

# Show 256 color palette (pipe to less for scrolling)
shlib::ansi_256_palette | less -R
.fi
.RE
.SH FILES
.TP
.I examples/ui.sh
Example script demonstrating UI functions.
.SH EXIT STATUS
.TP
.B shlib::spinner
Returns the exit code of the executed command.
.SH NOTES
The spinner animation uses Unicode braille pattern characters.
Ensure your terminal supports Unicode for proper display.
.PP
The spinner hides the cursor during animation and restores it when complete.
.PP
Command output (stdout/stderr) is not captured by the spinner itself.
If you need to capture output, use command substitution around the spinner call.
.PP
The ANSI color reference functions use the global arrays
.BR SHLIB_ANSI_COLOR_NAMES ,
.BR SHLIB_ANSI_FG_CODES ,
.BR SHLIB_ANSI_BG_CODES ,
.BR SHLIB_ANSI_STYLE_CODES ,
and
.BR SHLIB_ANSI_STYLE_NAMES .
See
.BR shlib (7)
for details on these arrays.
.SH SEE ALSO
.BR shlib (7),
.BR shlib_logging (3)
.SH AUTHORS
shlib was created by waltlenu.
.SH LICENSE
MIT License. See LICENSE file for details.
